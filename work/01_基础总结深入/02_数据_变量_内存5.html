<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>02_内存管理</title>
</head>
<body>
<!--
问题: JS引擎如何管理内存?
  1. 内存生命周期
    1). 分配需要的内存: 定义变量 / 创建对象
    2). 使用(存/取)分配到的内存: 赋值 / 创建对象
    3). 不需要时将其释放/归还
  2. 释放内存
    * 为执行函数分配的栈空间内存: 函数执行完自动释放
    * 存储对象的堆空间内存: 当内存没有引用指向时, 对象成为垃圾对象, 垃圾回收器后面就会回收释放此内存
-->
<script type="text/javascript">
  /*执行全局代码*/
  // 定义一个变量a, 分配对应的内存  定义变量
  var a
  // 将数据保存到a内存中  赋值
  a = 3
  /*
  {}: 在堆空间分配对应内存, 将对象数据保存到内存中
  =: 读取对象内存的地址值数据保存到a内存中
   */
  a = {}

  // 不需要时将其释放/归还
  a = null

  /*
  执行函数代码
  调用函数, 就会为其分配对应的栈空间, 来存储其局部变量
  函数执行完, 自动释放函数执行分配的空间, 局部变量内存数据没有了
        局部变量指向的堆空间对象成为了垃圾对象, 后面就会被回收释放
  * */
  function fn() {
    var a = 3
    var b = {}
  }
  fn()
</script>
</body>
</html>